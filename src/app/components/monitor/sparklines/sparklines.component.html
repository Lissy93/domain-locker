<div class="domain-uptime">
  
  <div class="flex justify-between mb-3 items-end">
    <div class="flex gap-3">
      <div class="flex flex-col p-card p-3 w-40 gap-3">
        <strong class="font-semibold">Average Uptime</strong>
        <span class="text-{{ getColorClassForPercentage(uptimePercentage) }}">{{ uptimePercentage.toFixed(2) }}%</span>
      </div>
      <div class="flex flex-col p-card p-3 w-40 gap-3">
        <strong class="font-semibold">Current Status</strong>
        <span [class.text-green-400]="isUp" [class.text-red-400]="!isUp">
          {{ isUp ? '✅ Up' : ' ❌ Down' }}
        </span>
      </div>
    </div>
    <p-selectButton 
      [options]="timeframeOptions" 
      [(ngModel)]="timeframe"
      (onChange)="onTimeframeChange($event.value)"
      >
        <ng-template let-item pTemplate>
          <span class="capitalize font-semibold">{{ item }}</span>
        </ng-template>
    </p-selectButton>
  </div>


  <div class="flex gap-3 w-full">
    <!-- Timing cards -->
    <div class="flex flex-col gap-3 min-w-40">
      <div class="p-card p-3 flex flex-col gap-3">
        <strong class="font-semibold">Response Time</strong>
        <span [class]="getPerformanceColor(avgResponseTime, 'response')">
          {{ round(avgResponseTime) }} ms
        </span>
      </div>
      <div class="p-card p-3 flex flex-col gap-3">
        <strong class="font-semibold">DNS Time</strong>
        <span [class]="getPerformanceColor(avgDnsTime, 'dns')">
          {{ round(avgDnsTime) }} ms
        </span>
      </div>
      <div class="p-card p-3 flex flex-col gap-3">
        <strong class="font-semibold">SSL Time</strong>
        <span [class]="getPerformanceColor(avgSslTime, 'ssl')">
          {{ round(avgSslTime) }} ms
        </span>
      </div>
    </div>

    <!-- Charts -->
    <div class="p-card p-3 flex-1 flex flex-col gap-3">
      <div class="flex-1 flex flex-col justify-between">
          <apx-chart
            *ngIf="responseTimeChart"
            [series]="responseTimeChart.series"
            [chart]="responseTimeChart.chart"
            [stroke]="responseTimeChart.stroke"
          ></apx-chart>
          <span class="text-center text-xs opacity-70">Response Time (ms)</span>
        </div>
      <div class="flex-1 flex flex-col justify-between">
        <apx-chart
          *ngIf="dnsTimeChart"
          [series]="dnsTimeChart.series"
          [chart]="dnsTimeChart.chart"
          [stroke]="dnsTimeChart.stroke"
        ></apx-chart>
        <span class="text-center text-xs opacity-70">DNS Resolution Time (ms)</span>
      </div>
      <div class="flex-1 flex flex-col justify-between">
        <apx-chart
          *ngIf="sslTimeChart"
          [series]="sslTimeChart.series"
          [chart]="sslTimeChart.chart"
          [stroke]="sslTimeChart.stroke"
        ></apx-chart>
        <span class="text-center text-xs opacity-70">SSL Handshake Time (ms)</span>
      </div>
    </div>
  </div>

</div>
